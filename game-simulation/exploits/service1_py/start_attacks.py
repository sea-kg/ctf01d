#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import requests
import time
import uuid
import json
import attack
from pprint import pprint
import sys

# your teamid



# include custom library
sys.path.insert(0, r'/usr/share/hackwars/lazy-conf')
import jury

jury_host = jury.host
jury_port = jury.port
your_teamnum = jury.teamnum

teams = {}
r = requests.get('http://' + jury_host + ':' + str(jury_port) + '/api/v1/teams')
teams = r.json();

for team in teams:
    t = teams[team]
    if t['num'] != your_teamnum:
        team_name = t['name']
        ip_address = t['ip_address']
        print (" >>>>>>>>>> TEAM " + team_name + " <<<<<<<<<<<<< ")
        attack.start(your_teamnum, jury_host, jury_port, team_name, ip_address, 4441)
        attack.start(your_teamnum, jury_host, jury_port, team_name, ip_address, 4442)
        attack.start(your_teamnum, jury_host, jury_port, team_name, ip_address, 4443)
        attack.start(your_teamnum, jury_host, jury_port, team_name, ip_address, 4444)


